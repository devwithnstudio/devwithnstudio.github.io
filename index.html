<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÉ‡∏Å‡∏•‡πâ‡∏â‡∏±‡∏ô - ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏à‡∏£‡∏à‡∏±‡∏î</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Prompt', sans-serif; background-color: #F9FAFB; color: #111827; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .geo-active { background-color: #16A34A !important; color: white !important; border-color: #16A34A !important; }
        .hero-gradient { background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%); }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Navbar -->
    <nav class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-100">
        <div class="max-w-5xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <span class="text-2xl">üêæ</span>
                <span class="font-bold text-xl tracking-tight text-green-700">PetShare.th</span>
            </div>
            <a href="mailto:suggest@example.com" class="text-sm font-medium text-green-600 bg-green-50 px-4 py-2 rounded-full hover:bg-green-100 transition-all">
                ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥
            </a>
        </div>
    </nav>

    <!-- Header / Hero Section -->
    <header class="hero-gradient pt-8 pb-12 px-4 border-b border-green-100">
        <div class="max-w-4xl mx-auto flex flex-col md:flex-row items-center gap-8">
            <div class="flex-1 text-center md:text-left">
                <h1 class="text-3xl md:text-4xl font-extrabold text-gray-900 leading-tight mb-4">
                    ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ó‡∏∏‡∏Å‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï <span class="text-green-600">‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢</span>
                </h1>
                <p class="text-gray-600 text-lg mb-6">
                    ‡∏£‡πà‡∏ß‡∏°‡πÅ‡∏ö‡πà‡∏á‡∏õ‡∏±‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ ‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥‡πÅ‡∏•‡∏∞‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏û‡∏±‡∏Å‡∏û‡∏¥‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏à‡∏£‡∏à‡∏±‡∏î‡∏ó‡∏±‡πà‡∏ß‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢
                </p>
                <div class="flex flex-col gap-3">
                    <div class="relative">
                        <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥ ‡πÄ‡∏ä‡πà‡∏ô '‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏µ‡πà‡∏Ç‡∏≤'..." 
                            class="w-full pl-12 pr-4 py-4 rounded-2xl border-none shadow-xl focus:ring-2 focus:ring-green-500 outline-none text-lg">
                        <span class="absolute left-4 top-4.5 text-2xl opacity-30">üîç</span>
                    </div>
                    <button id="geoBtn" onclick="getLocation()" 
                        class="flex items-center justify-center gap-2 bg-white border-2 border-green-600 text-green-600 font-bold py-3 px-6 rounded-2xl hover:bg-green-50 transition-all shadow-sm">
                        üìç <span id="geoBtnText">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì</span>
                    </button>
                </div>
            </div>
            <div class="flex-1 hidden md:block">
                <img src="https://images.unsplash.com/photo-1583511655857-d19b40a7a54e?auto=format&fit=crop&q=80&w=600" 
                     alt="Cute Dog" class="rounded-3xl shadow-2xl transform rotate-2 hover:rotate-0 transition-transform duration-500">
            </div>
        </div>
    </header>

    <!-- Filter Bar -->
    <div class="bg-white sticky top-16 z-40 border-b border-gray-100">
        <div id="filterContainer" class="max-w-4xl mx-auto px-4 py-4 flex gap-2 overflow-x-auto no-scrollbar">
            <button data-category="‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î" onclick="setFilter('‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î')" class="filter-chip whitespace-nowrap px-5 py-2 rounded-full border text-sm font-medium transition-all bg-green-600 text-white border-green-600 shadow-md">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
            <button data-category="‡πÄ‡∏á‡∏¥‡∏ô" onclick="setFilter('‡πÄ‡∏á‡∏¥‡∏ô')" class="filter-chip whitespace-nowrap px-5 py-2 rounded-full border border-gray-200 text-sm font-medium text-gray-600 hover:border-green-300 hover:text-green-600 transition-all">üí∞ ‡πÄ‡∏á‡∏¥‡∏ô‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ</button>
            <button data-category="‡∏≠‡∏≤‡∏´‡∏≤‡∏£" onclick="setFilter('‡∏≠‡∏≤‡∏´‡∏≤‡∏£')" class="filter-chip whitespace-nowrap px-5 py-2 rounded-full border border-gray-200 text-sm font-medium text-gray-600 hover:border-green-300 hover:text-green-600 transition-all">ü¶¥ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</button>
            <button data-category="‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ" onclick="setFilter('‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ')" class="filter-chip whitespace-nowrap px-5 py-2 rounded-full border border-gray-200 text-sm font-medium text-gray-600 hover:border-green-300 hover:text-green-600 transition-all">üì¶ ‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ</button>
            <button data-category="‡∏£‡∏±‡∏Å‡∏©‡∏≤" onclick="setFilter('‡∏£‡∏±‡∏Å‡∏©‡∏≤')" class="filter-chip whitespace-nowrap px-5 py-2 rounded-full border border-gray-200 text-sm font-medium text-gray-600 hover:border-green-300 hover:text-green-600 transition-all">üè• ‡∏Ñ‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏©‡∏≤</button>
            <button data-category="‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å‡∏û‡∏¥‡∏á" onclick="setFilter('‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å‡∏û‡∏¥‡∏á')" class="filter-chip whitespace-nowrap px-5 py-2 rounded-full border border-gray-200 text-sm font-medium text-gray-600 hover:border-green-300 hover:text-green-600 transition-all">üè† ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å‡∏û‡∏¥‡∏á</button>
        </div>
    </div>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto px-4 py-8 flex-grow">
        <div id="foundationList" class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Cards will be injected here -->
        </div>
    </main>

    <!-- Professional Footer -->
    <footer class="bg-gray-900 text-white pt-12 pb-6 px-6">
        <div class="max-w-4xl mx-auto">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-10 mb-10">
                <div class="col-span-1 md:col-span-1">
                    <div class="flex items-center gap-2 mb-4">
                        <span class="text-2xl">üêæ</span>
                        <span class="font-bold text-xl tracking-tight text-white">PetShare.th</span>
                    </div>
                    <p class="text-gray-400 text-sm leading-relaxed">
                        ‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏ó‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏™‡∏µ‡πà‡∏Ç‡∏≤‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏ó‡∏±‡πà‡∏ß‡∏ñ‡∏∂‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
                    </p>
                </div>
                <div>
                    <h4 class="font-bold mb-4 text-green-400">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥</h4>
                    <ul class="text-gray-400 text-sm space-y-2">
                        <li><a href="#" class="hover:text-white transition-colors">‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">‡πÅ‡∏à‡πâ‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏•‡∏á‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤/‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4 text-green-400">‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå</h4>
                    <p class="text-xs text-gray-500 mb-4 leading-relaxed">
                        ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏™‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ò‡∏∏‡∏£‡∏Å‡∏£‡∏£‡∏°
                    </p>
                    <div class="flex gap-4">
                        <span class="w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-green-600 cursor-pointer transition-colors">f</span>
                        <span class="w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-green-600 cursor-pointer transition-colors">ig</span>
                        <span class="w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-green-600 cursor-pointer transition-colors">tw</span>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 pt-6 text-center">
                <p class="text-gray-500 text-[10px] uppercase tracking-widest">
                    &copy; 2026 PetShare Thailand - Built with ‚ù§Ô∏è for animals
                </p>
            </div>
        </div>
    </footer>

    <!-- Detail Modal -->
    <div id="detailModal" class="fixed inset-0 z-[60] hidden">
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closeModal()"></div>
        <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-[2.5rem] p-8 transform translate-y-full transition-transform duration-300 max-h-[90vh] overflow-y-auto shadow-2xl" id="modalContentContainer">
            <div class="w-16 h-1.5 bg-gray-200 rounded-full mx-auto mb-8"></div>
            <div id="modalBody" class="max-w-2xl mx-auto"></div>
            <button onclick="closeModal()" class="w-full mt-8 py-4 bg-gray-100 rounded-2xl font-bold text-gray-500 hover:bg-gray-200 transition-all">‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á</button>
        </div>
    </div>

    <script>
        // Data ‡πÅ‡∏•‡∏∞ Logic ‡∏¢‡∏±‡∏á‡∏Ñ‡∏á‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡πà‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏±‡∏Ñ ‡πÅ‡∏ï‡πà‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á UI ‡∏ô‡∏¥‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢‡πÉ‡∏ô renderList
        const foundations = [
            { id: 1, name: "Soi Dog Foundation", phone: "076-681-029", email: "donation@soidog.org", website: "https://www.soidog.org", facebook: "SoiDogPage", donationUrl: "https://www.soidog.org/content/make-donation", accepts: ["‡πÄ‡∏á‡∏¥‡∏ô","‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏£‡∏±‡∏Å‡∏©‡∏≤","‡∏ó‡∏≥‡∏´‡∏°‡∏±‡∏ô-‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô","‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å‡∏û‡∏¥‡∏á"], description: ["‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏´‡∏°‡∏≤‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡∏ß‡∏à‡∏£‡∏à‡∏±‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏∏‡∏î‡πÅ‡∏´‡πà‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢"], province: "‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï", lat: 8.1691, lng: 98.3472 },
            { id: 2, name: "Baan Maa", phone: "095-220-0143", email: "accounts@baanmaa.org", website: "https://baanmaa.org", facebook: "", donationUrl: "https://baanmaa.org/donate/", accepts: ["‡πÄ‡∏á‡∏¥‡∏ô","‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏£‡∏±‡∏Å‡∏©‡∏≤","‡∏´‡∏≤‡∏ö‡πâ‡∏≤‡∏ô"], description: ["‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏´‡∏°‡∏≤‡∏à‡∏£‡∏à‡∏±‡∏î‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢ ‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏ß‡∏¢‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏ß‡∏±‡∏Ñ‡∏ã‡∏µ‡∏ô"], province: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà", lat: 18.7883, lng: 98.9853 },
            { id: 3, name: "PAWS Bangkok", phone: "", email: "", website: "", facebook: "https://www.facebook.com/pawsbangkok/", donationUrl: "", accepts: ["‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ","‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•"], description: ["‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÅ‡∏°‡∏ß‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏•"], province: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø", lat: 13.7563, lng: 100.5018 },
            { id: 4, name: "The Man That Rescues Dogs", phone: "", email: "", website: "https://www.tmtrd.org", facebook: "The Man That Rescues Dogs", donationUrl: "https://www.tmtrd.org", accepts: ["‡πÄ‡∏á‡∏¥‡∏ô","‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ","‡∏£‡∏±‡∏Å‡∏©‡∏≤"], description: ["‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏∏‡∏ô‡∏±‡∏Ç‡∏à‡∏£‡∏à‡∏±‡∏î‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 600 ‡∏ï‡∏±‡∏ß‡πÉ‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ"], province: "‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ", lat: 12.9236, lng: 100.8825 },
            { id: 5, name: "ARK Foundation Thailand", phone: "", email: "arkfoundationthailand@gmail.com", website: "", facebook: "ARK Foundation Thailand", donationUrl: "", accepts: ["‡πÄ‡∏á‡∏¥‡∏ô","‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ","‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å‡∏û‡∏¥‡∏á"], description: ["‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏û‡∏±‡∏Å‡∏û‡∏¥‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏£‡πà‡∏á‡∏î‡πà‡∏ß‡∏ô"], province: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà", lat: 18.7061, lng: 98.9817 },
            { id: 6, name: "The Voice Foundation", phone: "", email: "thevoicefoundation@gmail.com", website: "", facebook: "The Voice Foundation", donationUrl: "", accepts: ["‡πÄ‡∏á‡∏¥‡∏ô","‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏£‡∏±‡∏Å‡∏©‡∏≤"], description: ["‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏≤ ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏™‡∏±‡∏ï‡∏ß‡πå‡∏ñ‡∏π‡∏Å‡∏ó‡∏≤‡∏£‡∏∏‡∏ì"], province: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø", lat: 13.75, lng: 100.5 },
            { id: 7, name: "Watchdog Thailand", phone: "081-836-9211", email: "", website: "https://www.watchdogthailand.org", facebook: "", donationUrl: "", accepts: ["‡πÄ‡∏á‡∏¥‡∏ô","‡∏Ñ‡∏î‡∏µ‡∏ó‡∏≤‡∏£‡∏∏‡∏ì‡∏Å‡∏£‡∏£‡∏°","‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å‡∏û‡∏¥‡∏á"], description: ["‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÅ‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏é‡∏´‡∏°‡∏≤‡∏¢"], province: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø", lat: null, lng: null },
            { id: 11, name: "‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏≤‡∏à‡∏£‡∏à‡∏±‡∏î‡∏Ñ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á", phone: "", email: "", website: "", facebook: "‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏≤‡∏à‡∏£‡∏à‡∏±‡∏î‡∏Ñ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á", donationUrl: "", accepts: ["‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏¢‡∏≤","‡∏£‡∏±‡∏Å‡∏©‡∏≤"], description: ["‡∏î‡∏π‡πÅ‡∏•‡∏´‡∏°‡∏≤‡∏à‡∏£‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á ‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ"], province: "‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ", lat: 14.06, lng: 100.64 },
            { id: 13, name: "‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏≤‡∏à‡∏£‡∏à‡∏±‡∏î‡∏°‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ", phone: "", email: "", website: "", facebook: "‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏≤‡∏à‡∏£‡∏à‡∏±‡∏î‡∏°‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ", donationUrl: "", accepts: ["‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ"], description: ["‡∏î‡∏π‡πÅ‡∏•‡∏´‡∏°‡∏≤‡∏à‡∏£‡∏à‡∏±‡∏î‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡∏¢‡πà‡∏≤‡∏ô‡∏°‡∏µ‡∏ô‡∏ö‡∏∏‡∏£‡∏µ"], province: "‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø", lat: 13.81, lng: 100.72 },
            { id: 14, name: "‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏≤‡∏à‡∏£‡∏à‡∏±‡∏î‡∏ö‡∏≤‡∏á‡∏ö‡∏±‡∏ß‡∏ó‡∏≠‡∏á", phone: "", email: "", website: "", facebook: "‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏°‡∏≤‡∏à‡∏£‡∏à‡∏±‡∏î‡∏ö‡∏≤‡∏á‡∏ö‡∏±‡∏ß‡∏ó‡∏≠‡∏á", donationUrl: "", accepts: ["‡πÄ‡∏á‡∏¥‡∏ô","‡∏≠‡∏≤‡∏´‡∏≤‡∏£","‡∏Ç‡∏≠‡∏á‡πÉ‡∏ä‡πâ"], description: ["‡∏®‡∏π‡∏ô‡∏¢‡πå‡∏û‡∏±‡∏Å‡∏û‡∏¥‡∏á‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏µ‡πà‡∏î‡∏π‡πÅ‡∏•‡∏´‡∏°‡∏≤‡πÅ‡∏Å‡πà‡πÅ‡∏•‡∏∞‡∏´‡∏°‡∏≤‡∏õ‡πà‡∏ß‡∏¢"], province: "‡∏ô‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ", lat: 13.91, lng: 100.41 }
        ];

        let currentFilter = '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î';
        let userLocation = null;

        function renderList() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const listEl = document.getElementById('foundationList');
            
            let filtered = foundations.filter(item => {
                const matchesSearch = item.name.toLowerCase().includes(searchTerm) || 
                                     item.accepts.some(tag => tag.includes(searchTerm));
                const matchesFilter = currentFilter === '‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î' || item.accepts.includes(currentFilter);
                return matchesSearch && matchesFilter;
            });

            if (userLocation) {
                filtered = filtered.sort((a, b) => {
                    if (a.lat === null) return 1;
                    if (b.lat === null) return -1;
                    return getDistance(userLocation.lat, userLocation.lng, a.lat, a.lng) - 
                           getDistance(userLocation.lat, userLocation.lng, b.lat, b.lng);
                });
            }

            listEl.innerHTML = filtered.map(item => `
                <div class="bg-white border border-gray-100 rounded-3xl p-6 shadow-sm hover:shadow-xl transition-all duration-300 cursor-pointer group" onclick="openModal(${item.id})">
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="font-bold text-xl text-gray-900 group-hover:text-green-600 transition-colors">${item.name}</h3>
                        ${item.province ? `<span class="text-xs bg-green-50 px-3 py-1 rounded-full text-green-600 font-bold whitespace-nowrap">${item.province}</span>` : ''}
                    </div>
                    <p class="text-gray-500 text-sm mb-4 line-clamp-2 leading-relaxed">${item.description[0]}</p>
                    <div class="flex flex-wrap gap-2 mb-6">
                        ${item.accepts.map(tag => `<span class="text-[10px] px-2 py-1 rounded-lg bg-gray-50 text-gray-500 border border-gray-100 font-medium">${tag}</span>`).join('')}
                    </div>
                    <div class="flex items-center justify-between mt-auto">
                        ${userLocation && item.lat ? `
                            <span class="text-xs text-green-600 font-bold">üìç ${getDistance(userLocation.lat, userLocation.lng, item.lat, item.lng).toFixed(1)} ‡∏Å‡∏°.</span>
                        ` : `<span class="text-xs text-gray-300">üìç ‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏û‡∏¥‡∏Å‡∏±‡∏î</span>`}
                        <span class="text-green-600 font-bold text-sm flex items-center gap-1">‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• <span class="group-hover:translate-x-1 transition-transform">‚Üí</span></span>
                    </div>
                </div>
            `).join('');
        }

        function getLocation() {
            const btn = document.getElementById('geoBtn');
            const text = document.getElementById('geoBtnText');
            if (navigator.geolocation) {
                text.innerText = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...";
                navigator.geolocation.getCurrentPosition((pos) => {
                    userLocation = { lat: pos.coords.latitude, lng: pos.coords.longitude };
                    text.innerText = "‡πÉ‡∏Å‡∏•‡πâ‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î";
                    btn.classList.add('geo-active');
                    renderList();
                }, (err) => {
                    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏ô‡∏µ‡πâ");
                    text.innerText = "‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏∏‡∏ì";
                });
            }
        }

        function setFilter(category) {
            currentFilter = category;
            document.querySelectorAll('.filter-chip').forEach(el => {
                const elCat = el.getAttribute('data-category');
                if(elCat === category) {
                    el.classList.add('bg-green-600', 'text-white', 'border-green-600', 'shadow-md');
                    el.classList.remove('border-gray-200', 'text-gray-600');
                } else {
                    el.classList.remove('bg-green-600', 'text-white', 'border-green-600', 'shadow-md');
                    el.classList.add('border-gray-200', 'text-gray-600');
                }
            });
            renderList();
        }

        function getDistance(lat1, lon1, lat2, lon2) {
            const R = 6371;
            const dLat = (lat2-lat1) * Math.PI/180;
            const dLon = (lon2-lon1) * Math.PI/180;
            const a = Math.sin(dLat/2) * Math.sin(dLat/2) + Math.cos(lat1 * Math.PI/180) * Math.cos(lat2 * Math.PI/180) * Math.sin(dLon/2) * Math.sin(dLon/2);
            return R * (2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)));
        }

        function openModal(id) {
            const item = foundations.find(f => f.id === id);
            const body = document.getElementById('modalBody');
            body.innerHTML = `
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold mb-2">${item.name}</h2>
                    <span class="text-green-600 font-bold">${item.province || '‡∏°‡∏π‡∏•‡∏ô‡∏¥‡∏ò‡∏¥‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÑ‡∏ó‡∏¢'}</span>
                </div>
                <div class="space-y-6">
                    <div class="bg-green-50 p-6 rounded-3xl">
                        <h4 class="font-bold text-green-800 mb-3">‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ:</h4>
                        <div class="flex flex-wrap gap-2">
                            ${item.accepts.map(tag => `<span class="bg-white text-green-700 px-4 py-1.5 rounded-full text-sm font-bold shadow-sm">${tag}</span>`).join('')}
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold text-gray-800 mb-2">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</h4>
                        <p class="text-gray-600 leading-relaxed">${item.description[0]}</p>
                    </div>
                    <div class="grid grid-cols-1 gap-3">
                        ${item.phone ? `<a href="tel:${item.phone}" class="flex items-center justify-center gap-3 p-4 border-2 border-green-600 text-green-600 rounded-2xl font-bold hover:bg-green-50">üìû ‡πÇ‡∏ó‡∏£‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°: ${item.phone}</a>` : ''}
                        ${item.donationUrl ? `<a href="${item.donationUrl}" target="_blank" class="flex items-center justify-center gap-3 p-5 bg-green-600 text-white rounded-2xl font-bold shadow-lg hover:bg-green-700 transition-all text-lg">üíù ‡∏ö‡∏£‡∏¥‡∏à‡∏≤‡∏Ñ‡∏ú‡πà‡∏≤‡∏ô‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</a>` : ''}
                    </div>
                </div>
            `;
            document.getElementById('detailModal').classList.remove('hidden');
            setTimeout(() => document.getElementById('modalContentContainer').classList.remove('translate-y-full'), 10);
        }

        function closeModal() {
            document.getElementById('modalContentContainer').classList.add('translate-y-full');
            setTimeout(() => document.getElementById('detailModal').classList.add('hidden'), 300);
        }

        document.getElementById('searchInput').addEventListener('input', renderList);
        renderList();
    </script>
</body>
</html>
